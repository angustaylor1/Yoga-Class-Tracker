Website overall:
Home page with instructions how to use
login page
calendar page to enter the classes from the month
history page that logs the overall numbers from each month.
add studios page


home, calendar, invoices, add,

    # Hotpod Yoga Dulwich
    # Unit 3, 13-19 Croxted Rd, London SE21 8SZ
    # SARAH KELLY
    # 52 Renton Close,
    # Brixton,
    # SW2 1EZ
    # flow@sarahkellyyoga.com
    # Phone: 07490391103
    # {{ month }} Invoice
    # Bank Name: Royal Bank of Scotland
    # Account Number: 16312688
    # Sort Code: 83-52-00
    # I am self-employed and I am responsible for any tax or National Insurance liability.
    # THANK YOU!


Invoice - choose the studio.
Choose the dates, add it to a list, and type.
choose the month.

St Martin's School
22 Goodwyn Avenue
Mill Hill
London
NW7 3RG
 rate = £17 per lesson
 Description
 Musical theatre Lessons
 As a freelance teacher I understand that I am responsible for any and all payments to the
inland revenue, N.I Office and all tax offices regarding this invoice.
UTR: 1053191300
NI: SZ615196A


Hotpod Yoga Dulwich
Unit 3, 13-19 Croxted Rd, London SE21 8SZ
description - 60mins or 45 min

rate £50/60mins or £40/45mins

David Rhodes
58 Somerset Road
London SW19 5JX
rate = 80

description 1 hour Private Session
£80

ONCORE
65 Clapham Park Rd,
London, SW4 7EQ
description
60min Flow to Restore
£35

they pick how many weeks. then they pick the number of lessons each week.

so 4 inputs that are number inputs for each week.


hotpod dulwich = 7
david = 8
oncore = 9
st martins = 10

INSERT INTO classes (studio_id, description, date, rate) VALUES (10, "Musical Theatre Lessons", 17);


CREATE TABLE classes (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, studio_id INTEGER NOT NULL, description TEXT NOT NULL, date TEXT, time TEXT rate INTEGER NOT NULL, FOREIGN KEY(studio_id) REFERENCES studios(id));


INSERT INTO classes (stuio_id, description, date, rate) VALUES (7, "60mins", 50);
INSERT INTO classes (studio_id, description, date, rate) VALUES (7, "45mins", 40);
INSERT INTO classes (studio_id, description, date, rate) VALUES (8, "1 hour private lesson", 80);
INSERT INTO classes (studio_id, description, date, rate) VALUES (9, "60min Flow to Restore", 35);
INSERT INTO classes (studio_id, description, date, rate) VALUES (10, "Musical Theatre Lessons", 17);

Hotpod Brixton - 40 St Matthew's Rd, London SW2 1NL, 54
YogaRise Streatham -  248A Streatham High Rd, London SW16 1HS
Hotpod Belgravia - 19 Eccleston Yards, London SW1W 9AZ

INSERT INTO classes (studio_id)


dulwich - 7
david - 8
oncore - 9
st martins - 10
brixton - 11
streatham yogarise - 12
belgravia - 13

INSERT INTO classes (studio_id, description, date_time, rate) VALUES (11, 'Hotpod Flow', '2025-06-30 09:30:00', 54);
INSERT INTO classes (studio_id, description, date_time, rate) VALUES (12, 'Dynamic Flow', '2025-06-30 12:30:00', 35);
INSERT INTO classes (studio_id, description, date_time, rate) VALUES (7, 'Hotpod Flow - 60mins', '2025-07-01 17:30:00', 50);
INSERT INTO classes (studio_id, description, date_time, rate) VALUES (8, 'Double 1 hour private session', '2025-07-02 09:00:00', 80);
INSERT INTO classes (studio_id, description, date_time, rate) VALUES (8, 'Single 1 hour private session', '2025-07-02 09:00:00', 75);
INSERT INTO classes (studio_id, description, date_time, rate) VALUES (7, 'Hotpod Flow - 45mins', '2025-07-02 12:30:00', 40);
INSERT INTO classes (studio_id, description, date_time, rate) VALUES (11, 'Hotpod Flow', '2025-07-02 16:00:00', 54);
INSERT INTO classes (studio_id, description, date_time, rate) VALUES (12, 'Dynamic Flow', '2025-07-02 18:45:00', 35);
INSERT INTO classes (studio_id, description, date_time, rate) VALUES (13, 'Hotpod Flow', '2025-07-03 09:30:00', 54);
INSERT INTO classes (studio_id, description, date_time, rate) VALUES (13, 'Hotpod Flow', '2025-07-03 11:00:00', 54);
INSERT INTO classes (studio_id, description, date_time, rate) VALUES (11, 'Hotpod Flow', '2025-07-03 17:30:00', 54);
INSERT INTO classes (studio_id, description, date_time, rate) VALUES (13, 'Hotpod Flow', '2025-07-04 11:00:00', 54);
INSERT INTO classes (studio_id, description, date_time, rate) VALUES (11, 'Hotpod Flow', '2025-07-04 16:00:00', 54);
INSERT INTO classes (studio_id, description, date_time, rate) VALUES (9, 'Flow to Restore', '2025-07-04 18:30:00', 35);


TODO:
-Figure out how to get the information from the calendar
-then write the logic for creating a table in the database for the selected month.

-write the logic for calculating how much is owed from each studio
-create and update a table on the history.html.

@app.route("/add", methods=["GET", "POST"])
def add():
    if request.method == "POST":
        submitted = request.form.get("submit-button")
        if submitted == "add_studio":

            studio_name = request.form.get("studio-name")
            studio_address = request.form.get("studio-address")

            if not studio_name or not studio_address:
                return apology("Fill out the name AND address please dummy. Click the back button")

            # connect to the database
            con = sqlite3.connect("information.db")
            cur = con.cursor()
            res = cur.execute(
                "SELECT name FROM studios WHERE name = ?;", (studio_name,))
            existing = res.fetchone()
            if existing:
                return render_template("add.html", studio_message="Studio already exists!")

            # insert studio info into database
            try:
                cur.execute(
                    "INSERT INTO studios (name, address) VALUES (?, ?);", (studio_name, studio_address))
                con.commit()
            except sqlite3.IntegrityError:
                con.close()
                return render_template("add.html", message="Studio name already exists!")

            # commit the info and close connection
            # render page with success message
            return render_template("add.html", studio_message="Studio Added!")
        elif submitted == "add_class_type":
            studio_name_class = request.form.get("studio-name-class")
            class_duration = request.form.get("class-duration")
            class_type = request.form.get("class-type")

            if not studio_name_class or not class_duration or not class_type:
                return apology("Gotta fill all three things out boy. Click the back button")

            con = sqlite3.connect("information.db")
            cur = con.cursor()

            # Get studio ID from studio name
            cur.execute("SELECT id FROM studios WHERE name = ?;",
                        (studio_name_class,))
            result = cur.fetchone()

            if result is None:
                con.close()
                return render_template("add.html", class_message="Studio not found!")

            studio_id = result[0]

            # Insert into classes table

            try:
                cur.execute(
                    "INSERT INTO studios (name, address) VALUES (?, ?);", (studio_name, studio_address))
                con.commit()
            except sqlite3.IntegrityError:
                con.close()
                return render_template("add.html", message="Studio name already exists!")

            con.commit()
            con.close()

            return render_template("add.html", class_message="Class added!")

    return render_template("add.html")



wednesda

INSERT INTO classes (studio_id, description, date_time, rate) VALUES (10, 'Musical Theatre Lesson', '2025-06-30 9:00:00', 17);

INSERT INTO weekly_summary (studio_id, description, date_time, rate) SELECT (studio_id, description, date_time, rate) FROM classes WHERE id = 15 AND id = 16;